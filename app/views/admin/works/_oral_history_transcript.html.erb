<div class="card bg-light mb-3">
  <h2 class="card-header h3">Searchable transcript text
  </h2>
  <div class="card-body">
    <div class="text-muted small mb-2">This is the transcript we use for searchable transcripts, as long as there is <strong>no</strong> OHMS XML transcript available.<br/>If there is an OHMS XML transcript, this file will <strong>not</strong> be used.
  </div>
    <% if @work.oral_history_content!&.searchable_transcript_source.present? %>
      <dl class="row">
          <dt class="col-sm-6">present?</dt><dd class="col-sm-6"><span class="text-success font-weight-bold">YES</span></dd>
          <dt class="col-sm-6">size</dt><dd class="col-sm-6"><%= number_to_human_size(@work.oral_history_content!&.searchable_transcript_source.bytesize)%></dd>
      </dl>
      <hr/>
      <div class="row">
        <div class="col-sm">
          <%= link_to "Download searchable transcript text", download_searchable_transcript_source_admin_work_path(@work),  class: "btn btn-primary" %>
        </div>
        <div class="col-sm">
          <%= link_to "Remove searchable transcript text", remove_searchable_transcript_source_admin_work_path(@work), method: "put", class: "btn btn-primary btn-danger", data: { confirm: "Are you sure you want to remove the full text?" } %>
        </div>
      </div>
      <hr/>
    <% end %>
    <h3 class="h4">Upload new searchable transcript text</h3>
    <%= form_with(url: submit_searchable_transcript_source_admin_work_path(@work), local: true, multipart: true, method: :put) do %>
      <%= file_field_tag 'searchable_transcript_source', accept: "text/plain" %>
      <div class="small text-muted my-2">Use a plain text file with a <code>.txt</code> extension.</div>
      <%= submit_tag "Upload", class: "btn btn-primary" %>
    <% end %>
  </div>
</div>