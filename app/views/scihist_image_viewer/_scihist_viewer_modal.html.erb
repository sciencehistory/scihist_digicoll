<%# The image viewer, contained in a partial, for the scihist_image_viewr.js

    Might later change this to some kind of JS templates or other fancy JS,
    instead of just server-side HTML all pre-rendered invisible on page like it is now.

    local args:
      * work (used for putting work title in modal header, and work id and info json path for work)
        (Yes, that assumes at present on a given page can only host viewer for ONE single work)
 %>
<div id="scihist-image-viewer-modal" class="modal" tabindex="-1" role="dialog"
     data-images-info-path="<%= viewer_images_info_path(work) %>"
     data-work-id="<%= work.friendlier_id %>"
>

  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <div id= "scihist-image-viewer" class="scihist-image-viewer">
          <div class="viewer-header">

            <%= link_to main_app.root_path do %>
              <%= image_tag "partial-mark-75rotate-80.png", class: "scihist-logo", alt: "Science History Institute" %>
            <% end %>

            <h1>
              <a data-trigger="scihist_image_viewer_close" href="#"><%= work.title %></a>
            </h1>

            <a href="#" data-trigger="scihist_image_viewer_close" title="close" aria-label="close" class="header-close">
              <i class="fa fa-times aria-hidden=true"></i>
            </a>
          </div>

          <div class="viewer-content">
            <div class="viewer-image-and-navbar" data-alert-container>
                <div class="top-navbar" style="background-color: #646469; color: white; padding: 8px; display: flex; flex-grow: 0; flex-shrink: 0;">
                  <label style="flex: 1;">
                    <input type="checkbox" name="openseadragon-container" data-hook="viewer-area-toggle" checked>
                    Image
                  </label>

                  <label style="flex: 1;">
                    <input type="checkbox" name="transcription-container" data-hook="viewer-area-toggle">
                    Transcription
                  </label>

                  <label style="flex: 1;">
                    <input type="checkbox" name="english-translation-container" data-hook="viewer-area-toggle">
                    English Translation
                  </label>
                </div>
                <div class="viewer-image" style="flex-basis: 0; flex-grow: 1; flex-shrink: 1;">
                  <div id="openseadragon-container" style="flex: 1; border: 1px solid #646469;"></div>
                  <div id="transcription-container" style="flex: 1; display: none; border: 1px solid #646469; padding: 0.5rem; overflow: scroll;">
                    <p>SVANTE ARRHENIUS<br />STOCKHOLM</p><p>Stockholm den 10 März 1909.</p><p>Lieber alter Freund! [Bredig’s hand: Bredig]</p><p>Ich danke Dir herzlichst für Dein liebes Schreiben zu meinem 50. Geburtstag, welches vor allen anderen Glückwünschen ankam. Wenige von denselben haben mich in solchem Maass gefreut wie Deine allerliebsten Zeilen. Ich danke Dir auch für all‘ die lange schöne Zeit, während deren ich mit Dir verbunden gewesen bin, und für die treue Freundschaft, die mir unausgesetzt geweiht hast. Ich wage wohl zu hoffen, dass dieselbe noch sehr sehr lange unvermündet bleiben wird. Herzlichen Dank, lieber alter Freund auch von meiner Frau.</p><p>Ich sitze jetzt schon lange meistens bei den</p>
                  </div>
                  <div id="english-translation-container" style="flex: 1; display: none; border: 1px solid #646469; padding: 0.5rem; overflow: scroll;">
                    <p>SVANTE ARRHENIUS<br />STOCKHOLM</p><p>Stockholm, 10 March 1909</p><p>Dear old friend,</p><p>Thank you very much for your kind letter wishing me a happy 50th birthday, which arrived before all the other correspondence. Few of them have pleased me as much as your very nice message. I also appreciate your years of loyal friendship, which has meant a lot to me. I hope that it will remain unchanged for a very, very long time. My wife and I thank you, dear old friend.<br />  </p>
                  </div>


                  <button href="#" id="viewer-left" class="viewer-image-prev" data-trigger="viewer-prev" aria-label="Previous image" tabindex="0"><i class="fa fa-chevron-left" title="Previous"></i></button>
                  <button href="#" id="viewer-right" class="viewer-image-next" data-trigger="viewer-next" aria-label="Next image" tabindex="0"><i class="fa fa-chevron-right" title="Next"></i></button>
                </div>


              <%= render "scihist_image_viewer/scihist_viewer_navbar", work: work %>
            </div>

            <%# will be filled by JS, from json endpoint data %>
            <%= content_tag "div", "", id:"viewer-thumbs", class: "viewer-thumbs" %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
