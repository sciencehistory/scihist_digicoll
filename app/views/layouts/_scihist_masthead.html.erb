<%# the branded Science History header/navbar/masthead.

Includes a search bar with a JS-powered drawer pop-out. For content that does not
want a search bar (such as home page with it's own larger centered search bar),
do `content_for(:suppress_masthead_search, true)`

-%>
<nav id="masthead" class="masthead navbar navbar-expand-md navbar-dark bg-dark" aria-label="Site-wide navigation">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">

      <a id="logo" href="https://www.sciencehistory.org" data-no-turbolink="true">
        <% unless false && CHF::Env.staging? %> <%# temporarily show logo even on staging %>
          <%= image_tag "partial-mark-75rotate-80.png", class: "small-masthead-only masthead-logo-small", alt: "Science History Institute" %>
          <%= image_tag "sci_logo-webheader_1x.png",
              srcset:  "#{image_url 'sci_logo-webheader_1x.png'} 1x, #{image_url 'sci_logo-webheader_2x.png'} 2x",
              class: "large-masthead-only masthead-logo-large",
              alt: "Science History Institute" %>
        <% else %>
          NON-PRODUCTION DEMO
        <% end %>
      </a>


      <h1 class="masthead-title small-masthead-only"><%= link_to "Digital Collections", root_url %></h1>

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#top-navbar-collapse" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

    </div>

    <div class="collapse navbar-collapse" id="top-navbar-collapse">
      <div class="masthead-right">
        <h1 class="masthead-title large-masthead-only"><%= link_to "Digital Collections", root_url %></h1>

        <ul class="nav navbar-nav navbar-right">
          <li class="navbar-item"><%= link_to "About", about_url, class: "nav-link" %></li>
          <li class="navbar-item"><%= link_to "FAQ", faq_url, class: "nav-link" %></li>
          <li class="navbar-item"><%= link_to "Contact", contact_url, class: "nav-link" %></li>
        </ul>

        <% unless content_for(:suppress_masthead_search) %>
          <!-- <div class="nav navbar-nav navbar-right search-form-wrapper"> -->
            <%= render partial: 'application/search_form' %>
          <!-- </div> -->
        <% end %>
      </div>
    </div>
</nav>
